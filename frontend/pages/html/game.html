<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Arcane Chess â€” Game</title>
  <link rel="stylesheet" href="../css/game.css" />
</head>
<body>
  <div class="background"></div>
  <div class="page">
    <!-- LEFT COLUMN: Board -->
    <div class="left-column">
      <div class="top-buttons">
        <button class="top-btn" href="http://localhost:8000/main_menu.html">Main Menu</button>
        <button class="top-btn">Options</button>
        <button class="top-btn">Game Info</button>
        <button class="top-btn">Extend Draw</button>
        <button class="top-btn">Surrender</button>
      </div>

      <div class="board-wrapper">
        <canvas id="boardCanvas"></canvas>
      </div>
    </div>

    <!-- MIDDLE COLUMN: Timers + Captures -->
    <div class="middle-column">
      <div class="game-status-area">
        <!-- Opponent Status -->
        <div class="status-section opponent-status">
          <div class="status-label">Opponent</div>
          <div class="timer" id="timerTop">15:00</div>
          <div class="captured-pieces-container">
            <h3>Captures</h3>
            <div id="opponentCaptured" class="captured-pieces-grid"></div>
          </div>
        </div>

        <!-- Discard Pile in Middle -->
        <div class="discard-pile-center" id="discardPile">
          <div class="discard-label">Last Played</div>
          <div id="discardCard" class="discard-card-slot">
          </div>
        </div>

        <!-- Player Status -->
        <div class="status-section player-status">
          <div class="status-label">You</div>
          <div class="timer" id="playerTimer">15:00</div>
          <div class="captured-pieces-container">
            <h3>Captures</h3>
            <div id="yourCaptured" class="captured-pieces-grid"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN: Cards & Decks -->
    <div class="right-column">
      <div class="opponent-area">
        <div class="player-name" id="opponentName">Opponent</div>
        <div class="opponent-hand preview-row" id="opponentHand"></div>
        <div class="deck-discard">
          <div class="deck" id="opponentDeck">Opponent Deck</div>
          <div class="discard" id="opponentDiscard">Discard</div>
        </div>
      </div>

      <div class="card-area">
        <div class="deck-area">
          <div class="deck-preview" id="deckPreview">Deck</div>
        </div>

        <div class="player-hand" id="playerHand"></div>
        <div class="player-bottom">
          <div class="player-name" id="playerName">You</div>
        </div>
      </div>
    </div>
  </div>
  <!-- overlay for card-play text -->
  <div id="cardPlayOverlay" class="card-play-overlay" aria-hidden="true"></div>

  <div id="gameOverOverlay" class="game-over-overlay" style="display: none;">
  <div class="game-over-modal">
    <h1 class="game-over-title" id="gameOverTitle">GAME OVER</h1>
    <p class="game-over-result" id="gameOverResult"></p>
    <p class="game-over-message" id="gameOverMessage"></p>
    
    <div class="game-over-buttons">
      <button class="game-over-btn rematch-same-btn" id="rematchSameBtn">
        Rematch Same Player
      </button>
      <button class="game-over-btn rematch-any-btn" id="rematchAnyBtn">
        Find New Opponent
      </button>
      <button class="game-over-btn menu-btn" id="returnMenuBtn">
        Main Menu
      </button>
    </div>
    <div class="rematch-status" id="rematchStatus">
      <span class="rematch-label">Rematch?</span>
      <span class="rematch-count" id="rematchCount">0/2</span>
    </div>
  </div>
</div>

  <!-- audio assets -->
  <audio id="clickOn" src="../assets/sfx_menu/click-on.wav" preload="auto"></audio>
  <audio id="clickOff" src="../assets/sfx_menu/click-off.wav" preload="auto"></audio>
  <audio id="menuMusic" loop src="../assets/music/game-music-temp.mp3"></audio>
  
  <script src="../javascript/deck-manager.js"></script>
  <script src="../javascript/game.js" defer></script>
</body>
</html>
